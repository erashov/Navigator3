@using Navigator.Domain.Entities
@(Html.Kendo().ToolBar()
    .Name("ToolBar").Items(items =>
    {
        items.Add().Type(CommandType.Button).Text("Очистить фильтры").Id("ClearFilters");
        items.Add().Type(CommandType.Button).Text("Конфигуратор").Id("Configurator");

    }).Events(e => e.Click("onClick")))
@(Html.Kendo().Window()
        .Name("window")
        .Width(630)
        .Height(315)
        .Content(@<text>
            <p>
                Alvar Aalto is one of the greatest names in modern architecture and design.
                Glassblowers at the iittala factory still meticulously handcraft the legendary
                vases that are variations on one theme, fluid organic shapes that let the end user
                ecide the use. Interpretations of the shape in new colors and materials add to the
                growing Alvar Aalto Collection that remains true to his original design.
            </p>
        </text>)
        .Draggable()
        .Resizable()
        .Title("Конфигуратор")
        .Actions(actions => actions.Pin().Refresh().Maximize().Close())
        .LoadContentFrom("ajaxcontent1", "window").Visible(false))
@(Html.Kendo().Grid<ListMLGrid>()
      .Name("Grid")
      .Columns(columns =>
      {
          columns.Bound(p => p.NumML).Title("№ МЛ").Width(180);
          columns.Bound(p => p.USERs).Filterable(ftb => ftb.Multi(true)).Title("Пользователь").Width(146);
          columns.Bound(p => p.Otvetstv).Title("Ответственный").Width(208);
          columns.Bound(p => p.Zakazhcik).Title("Заказчик").Width(208);
          columns.Bound(p => p.ESVTPIQQCNfe).Title("E,S,V,T,P,I,Q,QC,N,Ф").Width(200);
          columns.Bound(p => p.E).Width(130);
          columns.Bound(p => p.S).Width(130);
          columns.Bound(p => p.V).Width(130);
          columns.Bound(p => p.T).Width(130);
          columns.Bound(p => p.P).Width(130);
          columns.Bound(p => p.I).Width(130);
          columns.Bound(p => p.Q).Width(130);
          columns.Bound(p => p.QC).Width(130);
          columns.Bound(p => p.N).Width(130);
          columns.Bound(p => p.fe).Width(130);
          columns.Bound(p => p.gplr).Width(130);
          columns.Bound(p => p.gpz).Width(130);
          columns.Bound(p => p.AdresA).Template(@<text>
        <strong>@item.AdresA</strong>
<div class="valueDel"></div>
<strong>@item.AdresB</strong>
        </text>).Width(308);
          columns.Bound(p => p.AdresB).Width(308);
          columns.Bound(p => p.utverzh).Title("Утверждено").Format("{0:dd-MM-yyyy}").Width(300);
      }).ColumnMenu().Editable(editable => editable.Mode(GridEditMode.InCell))
      .Pageable(pageable => pageable.Refresh(true).PageSizes(true).ButtonCount(5))
      .Sortable()
      .Scrollable()
      .HtmlAttributes(new { style = "height:740px;" })
      .Selectable(selectable => selectable.Mode(GridSelectionMode.Multiple))
      .Navigatable()
      .Filterable(ftb => ftb.Mode(GridFilterMode.Row))
      .DataSource(dataSource => dataSource.Ajax().Read(read => read.Action("RouteSheet_Read", "RouteSheet"))
      .Sort(sort => sort.Add("NumML").Descending())
      .Model(model =>
      {
          model.Id(p => p.NumML);
          model.Field(p => p.NumML).Editable(false);
          model.Field(p => p.E).Editable(false);
          model.Field(p => p.S).Editable(false);
          model.Field(p => p.V).Editable(false);
          model.Field(p => p.T).Editable(false);
          model.Field(p => p.P).Editable(false);
          model.Field(p => p.I).Editable(false);
          model.Field(p => p.Q).Editable(false);
          model.Field(p => p.QC).Editable(false);
          model.Field(p => p.N).Editable(false);
          model.Field(p => p.fe).Editable(false);
          model.Field(p => p.ESVTPIQQCNfe).Editable(false);
      })
      .Update("Editing_Update", "RouteSheet")
      .ServerOperation(true))
      .Resizable(resize => resize.Columns(true))
      .Reorderable(reorder => reorder.Columns(true)))



